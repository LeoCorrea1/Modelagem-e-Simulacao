{"cells":[{"cell_type":"markdown","metadata":{"id":"pKgeoFyAUt-C"},"source":["EXERCICIO AULA 02 - 04/08/2025 , MODELAGEM E SIMULAÇAO : LEONARDO CORREA"]},{"cell_type":"markdown","metadata":{"id":"HhK0Gt0VN9zr"},"source":["CODIGO COMPLETO PARA SIMULAR A BIBLIOTECA, COLOCANDO OS INPUTS DIRETO NA CHAMADA DOS METODOS"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"base_uri":"https://localhost:8080/"},"id":"FS6I60O-UPfU"},"outputs":[{"name":"stdout","output_type":"stream","text":["lista inicial de usuarios : \n","{'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': []}\n","{'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': []}\n","{'tipo': 'funcionario', 'matricula': 'F001', 'historico_emprestimos': []}\n","\n","lista inicial de livros : \n","{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': True, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","{'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': True, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","lista inicial de bibliotecarias : \n","{'Nome ': 'joao', 'turno': 'manha', 'especializaçao': None}\n","{'Nome ': 'Maria', 'turno': 'tarde', 'especializaçao': None}\n","\n","Usuário encontrado: {'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': []}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': True, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' emprestado para o usuário 'A001'.\n","Usuário encontrado: {'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': []}\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': True, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","Livro 'Modelagem e simulaçao' emprestado para o usuário 'P001'.\n","Usuário encontrado: {'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': [{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","Livro 'Modelagem e simulaçao' não está disponível para empréstimo.\n","\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","Livro 'python para iniciantes' não está disponível para empréstimo.\n","\n","resumo atual:\n","python para iniciantes (isbn 12345): emprestado para A001\n","Modelagem e simulaçao (isbn 67890): emprestado para P001\n","\n","Historico de emprestimos:\n","Usuario: A001\n","Livros emprestados:\n","- python para iniciantes (ISBN: 12345)\n","\n","Usuario: P001\n","Livros emprestados:\n","- Modelagem e simulaçao (ISBN: 67890)\n","\n","Usuario: F001\n","Livros emprestados:\n","\n","Usuário encontrado: {'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': [{'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","Livro 'Modelagem e simulaçao' devolvido pelo usuário 'P001'.\n","Usuário encontrado: {'tipo': 'funcionario', 'matricula': 'F001', 'historico_emprestimos': []}\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': True, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","Livro 'Modelagem e simulaçao' emprestado para o usuário 'F001'.\n","\n","Historico de emprestimos:\n","Usuario: A001\n","Livros emprestados:\n","- python para iniciantes (ISBN: 12345)\n","\n","Usuario: P001\n","Livros emprestados:\n","- Modelagem e simulaçao (ISBN: 67890)\n","\n","Usuario: F001\n","Livros emprestados:\n","- Modelagem e simulaçao (ISBN: 67890)\n","\n","Usuário encontrado: {'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': [{'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' não está emprestado para o usuário 'P001'.\n","Usuário encontrado: {'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': [{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' devolvido pelo usuário 'A001'.\n","Usuário encontrado: {'tipo': 'funcionario', 'matricula': 'F001', 'historico_emprestimos': [{'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': True, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' emprestado para o usuário 'F001'.\n","\n","Historico de emprestimos:\n","Usuario: A001\n","Livros emprestados:\n","- python para iniciantes (ISBN: 12345)\n","\n","Usuario: P001\n","Livros emprestados:\n","- Modelagem e simulaçao (ISBN: 67890)\n","\n","Usuario: F001\n","Livros emprestados:\n","- Modelagem e simulaçao (ISBN: 67890)\n","- python para iniciantes (ISBN: 12345)\n","\n","\n","resumo atual:\n","python para iniciantes (isbn 12345): emprestado para F001\n","Modelagem e simulaçao (isbn 67890): emprestado para F001\n"]}],"source":["#lista de usuarios, onde cada usuario é um dicionario\n","\n","usuarios = [\n","{\"tipo\" : \"aluno\", \"matricula\" :  \"A001\", \"historico_emprestimos\": []},\n","{\"tipo\" : \"professor\", \"matricula\" :  \"P001\", \"historico_emprestimos\": []},\n","{\"tipo\" : \"funcionario\", \"matricula\" :  \"F001\", \"historico_emprestimos\": []}\n","]\n","\n","print(\"lista inicial de usuarios : \")\n","for u in usuarios:\n","    print(u)\n","print()\n","\n","#lista de livros , onde cada livro é um dicionario\n","\n","livros = [\n","{\"isbn\" : \"12345\" , \"titulo\" : \"python para iniciantes\" ,\"disponivel\" :True ,\"localizaçao\": \"estante A\",\"prazo_devolucao\" : None},\n","{\"isbn\" : \"67890\" , \"titulo\" : \"Modelagem e simulaçao\" ,\"disponivel\" :True ,\"localizaçao\": \"estante B\",\"prazo_devolucao\" : None}\n","]\n","\n","print(\"lista inicial de livros : \")\n","for l in livros:\n","    print(l)\n","print()\n","\n","bibliotecaria = [\n","{\"Nome \" : \"joao\", \"turno\" : \"manha\" , \"especializaçao\" : None},\n","{\"Nome \" : \"Maria\", \"turno\" : \"tarde\" , \"especializaçao\" : None}\n","]\n","\n","print(\"lista inicial de bibliotecarias : \")\n","for b in bibliotecaria:\n","    print(b)\n","print()\n","\n","#dicionario vazio emprestimo_ativos\n","\n","emprestimos_ativos = {}\n","\n","#metodo para encontra_usuario com a matricula\n","\n","def encontra_usuario(matricula):\n","    for u in usuarios:\n","        if u[\"matricula\"] == matricula:\n","            print(\"Usuário encontrado:\", u)\n","            return u\n","    print(\"Usuário com matrícula\", matricula, \"não encontrado.\")\n","    return None\n","\n","\n","def encontra_livro(isbn):\n","    for livro in livros:\n","        if livro[\"isbn\"] == isbn:\n","            print(\"Livro encontrado:\", livro)\n","            return livro\n","    print(\"Livro com ISBN\", isbn, \"não encontrado.\")\n","    return None\n","\n","#metodo para emprestar_livro com a matricula e o isbn (realiza o empréstimo do livro para o usuário, atualizando a disponibilidade do livro, o histórico do usuário e o dicionário de empréstimos)\n","\n","def emprestar_livro(matricula, isbn):\n","    usuario = encontra_usuario(matricula)\n","    livro = encontra_livro(isbn)\n","\n","    print()\n","    if usuario and livro:\n","        if livro[\"disponivel\"]:\n","            livro[\"disponivel\"] = False\n","            # Adiciona livro no histórico só se ainda não estiver lá\n","            if livro not in usuario[\"historico_emprestimos\"]:\n","                usuario[\"historico_emprestimos\"].append(livro)\n","            emprestimos_ativos[isbn] = matricula\n","            print(f\"Livro '{livro['titulo']}' emprestado para o usuário '{usuario['matricula']}'.\")\n","        else:\n","            print(f\"Livro '{livro['titulo']}' não está disponível para empréstimo.\")\n","    elif not usuario:\n","        print(\"Empréstimo não realizado: Usuário não encontrado.\")\n","    elif not livro:\n","        print(\"Empréstimo não realizado: Livro não encontrado.\")\n","\n","def devolver_livro(matricula, isbn):\n","    usuario = encontra_usuario(matricula)\n","    livro = encontra_livro(isbn)\n","\n","    print()\n","    if usuario and livro:\n","        if isbn in emprestimos_ativos and emprestimos_ativos[isbn] == matricula:\n","            livro[\"disponivel\"] = True\n","            del emprestimos_ativos[isbn]\n","            print(f\"Livro '{livro['titulo']}' devolvido pelo usuário '{usuario['matricula']}'.\")\n","        else:\n","            print(f\"Livro '{livro['titulo']}' não está emprestado para o usuário '{usuario['matricula']}'.\")\n","\n","#verificar situaçao do livro ( emprestado ou nao)\n","\n","def verificar_situacao_livro(isbn):\n","    print()\n","    livro = encontra_livro(isbn)\n","    if livro:\n","        if livro[\"disponivel\"]:\n","            print(f\"Livro '{livro['titulo']}' está disponível para empréstimo.\")\n","        else:\n","            print(f\"Livro '{livro['titulo']}' não está disponível para empréstimo.\")\n","\n","#metodo que faz o resumo atual do sistema ( lista os livros que estao emprestados e etc )\n","\n","def resumo_atual():\n","    print()\n","    print(\"resumo atual:\")\n","\n","    for livro in livros:\n","        status = \"disponivel\" if livro[\"disponivel\"] else f\"emprestado para {emprestimos_ativos.get(livro['isbn'], 'desconhecido')}\"\n","        print(f\"{livro['titulo']} (isbn {livro['isbn']}): {status}\")\n","\n","#metodo que Lista dos usuários com seus históricos de empréstimos:\n","\n","def listar_historico_emprestimo():\n","    print()\n","    print(\"Historico de emprestimos:\")\n","\n","    for usuario in usuarios:\n","        print(f\"Usuario: {usuario['matricula']}\")\n","        print(\"Livros emprestados:\")\n","        for livro in usuario[\"historico_emprestimos\"]:\n","            print(f\"- {livro['titulo']} (ISBN: {livro['isbn']})\")\n","        print()\n","\n","#laço para continuar a simulaçao digitando\n","\n","while True:\n","    opcao = input(\"digite oque deseja fazer: 1 para emprestar / 2 para devolver / 3 para verificar / 4 para fazer resumo atual /5 para mostrar historico de emprestimo: \")\n","\n","    if opcao == \"1\":\n","        matricula_emprestimo = input(\"digite a matricula do usuario que quer realizar o emprestimo: \")\n","        isbn_emprestimo = input(\"digite o isbn do livro para emprestar: \")\n","        emprestar_livro(matricula_emprestimo, isbn_emprestimo)\n","\n","    elif opcao == \"2\":\n","        matricula_para_devolver = input(\"digite a matricula do usuario que quer devolver o livro: \")\n","        isbn_para_devolver = input(\"digite o isbn do livro para devolver: \")\n","        devolver_livro(matricula_para_devolver, isbn_para_devolver)\n","\n","    elif opcao == \"3\":\n","        isbn_situacao = input(\"digite o isbn do livro para verificar a situação: \")\n","        verificar_situacao_livro(isbn_situacao)\n","\n","    elif opcao == \"4\":\n","        resumo_atual()\n","\n","    elif opcao == \"5\":\n","        listar_historico_emprestimo()\n","\n","    else:\n","        print(\"opcao invalida\")\n","\n","    continuar = input(\"deseja continuar? (s/n): \")\n","    if continuar.lower() != \"s\":\n","        break"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":41,"status":"ok","timestamp":1754391036558,"user":{"displayName":"Leonardo Vasconcelos Corrêa UFN","userId":"14135014914036764241"},"user_tz":180},"id":"_mMdABZZNjq5","outputId":"ec95f873-eed0-42be-a292-a806987294f5"},"outputs":[{"name":"stdout","output_type":"stream","text":["lista inicial de usuarios : \n","{'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': []}\n","{'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': []}\n","{'tipo': 'funcionario', 'matricula': 'F001', 'historico_emprestimos': []}\n","\n","lista inicial de livros : \n","{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': True, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","{'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': True, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","lista inicial de bibliotecarias : \n","{'Nome ': 'joao', 'turno': 'manha', 'especializaçao': None}\n","{'Nome ': 'Maria', 'turno': 'tarde', 'especializaçao': None}\n","\n","\n","--- Inicio da Simulacao da Biblioteca ---\n","Usuário encontrado: {'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': []}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': True, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' emprestado para o usuário 'A001'.\n","Usuário encontrado: {'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': []}\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': True, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","Livro 'Modelagem e simulaçao' emprestado para o usuário 'P001'.\n","Usuário encontrado: {'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': [{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","\n","Livro 'Modelagem e simulaçao' não está disponível para empréstimo.\n","Usuário encontrado: {'tipo': 'aluno', 'matricula': 'A001', 'historico_emprestimos': [{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}]}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' devolvido pelo usuário 'A001'.\n","Usuário encontrado: {'tipo': 'funcionario', 'matricula': 'F001', 'historico_emprestimos': []}\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': True, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","\n","Livro 'python para iniciantes' emprestado para o usuário 'F001'.\n","\n","--- Estado Final da Simulacao ---\n","\n","Lista dos livros com seus status (disponivel ou emprestado):\n","- python para iniciantes (ISBN: 12345): Emprestado\n","- Modelagem e simulaçao (ISBN: 67890): Emprestado\n","\n","Lista dos usuarios com seus historicos de emprestimos:\n","- aluno A001: Emprestimos: ['12345']\n","- professor P001: Emprestimos: ['67890']\n","- funcionario F001: Emprestimos: ['12345']\n","\n","Lista dos emprestimos ativos, mostrando o titulo do livro, o tipo do usuario e a matricula:\n","- Emprestimos Ativos:\n","Livro encontrado: {'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}\n","Usuário encontrado: {'tipo': 'professor', 'matricula': 'P001', 'historico_emprestimos': [{'isbn': '67890', 'titulo': 'Modelagem e simulaçao', 'disponivel': False, 'localizaçao': 'estante B', 'prazo_devolucao': None}]}\n","- Livro: 'Modelagem e simulaçao' (ISBN: 67890) emprestado para professor (Matricula: P001)\n","Livro encontrado: {'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}\n","Usuário encontrado: {'tipo': 'funcionario', 'matricula': 'F001', 'historico_emprestimos': [{'isbn': '12345', 'titulo': 'python para iniciantes', 'disponivel': False, 'localizaçao': 'estante A', 'prazo_devolucao': None}]}\n","- Livro: 'python para iniciantes' (ISBN: 12345) emprestado para funcionario (Matricula: F001)\n","\n","--- Simulacao Finalizada ---\n"]}],"source":["#lista de usuarios, onde cada usuario é um dicionario\n","\n","usuarios = [\n","{\"tipo\" : \"aluno\", \"matricula\" :  \"A001\", \"historico_emprestimos\": []},\n","{\"tipo\" : \"professor\", \"matricula\" :  \"P001\", \"historico_emprestimos\": []},\n","{\"tipo\" : \"funcionario\", \"matricula\" :  \"F001\", \"historico_emprestimos\": []}\n","]\n","\n","print(\"lista inicial de usuarios : \")\n","for u in usuarios:\n","    print(u)\n","print()\n","\n","#lista de livros , onde cada livro é um dicionario\n","\n","livros = [\n","{\"isbn\" : \"12345\" , \"titulo\" : \"python para iniciantes\" ,\"disponivel\" :True ,\"localizaçao\": \"estante A\",\"prazo_devolucao\" : None},\n","{\"isbn\" : \"67890\" , \"titulo\" : \"Modelagem e simulaçao\" ,\"disponivel\" :True ,\"localizaçao\": \"estante B\",\"prazo_devolucao\" : None}\n","]\n","\n","print(\"lista inicial de livros : \")\n","for l in livros:\n","    print(l)\n","print()\n","\n","bibliotecaria = [\n","{\"Nome \" : \"joao\", \"turno\" : \"manha\" , \"especializaçao\" : None},\n","{\"Nome \" : \"Maria\", \"turno\" : \"tarde\" , \"especializaçao\" : None}\n","]\n","\n","print(\"lista inicial de bibliotecarias : \")\n","for b in bibliotecaria:\n","    print(b)\n","print()\n","\n","#dicionario vazio emprestimo_ativos\n","\n","emprestimos_ativos = {}\n","\n","#metodo para encontra_usuario com a matricula\n","\n","def encontra_usuario(matricula):\n","    for u in usuarios:\n","        if u[\"matricula\"] == matricula:\n","            print(\"Usuário encontrado:\", u)\n","            return u\n","    print(\"Usuário com matrícula\", matricula, \"não encontrado.\")\n","    return None\n","\n","\n","def encontra_livro(isbn):\n","    for livro in livros:\n","        if livro[\"isbn\"] == isbn:\n","            print(\"Livro encontrado:\", livro)\n","            return livro\n","    print(\"Livro com ISBN\", isbn, \"não encontrado.\")\n","    return None\n","\n","#metodo para emprestar_livro com a matricula e o isbn (realiza o empréstimo do livro para o usuário, atualizando a disponibilidade do livro, o histórico do usuário e o dicionário de empréstimos)\n","\n","def emprestar_livro(matricula, isbn):\n","    usuario = encontra_usuario(matricula)\n","    livro = encontra_livro(isbn)\n","\n","    print()\n","    if usuario and livro:\n","        if livro[\"disponivel\"]:\n","            livro[\"disponivel\"] = False\n","            if livro not in usuario[\"historico_emprestimos\"]:\n","                usuario[\"historico_emprestimos\"].append(livro)\n","            emprestimos_ativos[isbn] = matricula\n","            print(f\"Livro '{livro['titulo']}' emprestado para o usuário '{usuario['matricula']}'.\")\n","        else:\n","            print(f\"Livro '{livro['titulo']}' não está disponível para empréstimo.\")\n","    elif not usuario:\n","        print(\"Empréstimo não realizado: Usuário não encontrado.\")\n","    elif not livro:\n","        print(\"Empréstimo não realizado: Livro não encontrado.\")\n","\n","def devolver_livro(matricula, isbn):\n","    usuario = encontra_usuario(matricula)\n","    livro = encontra_livro(isbn)\n","\n","    print()\n","    if usuario and livro:\n","        if isbn in emprestimos_ativos and emprestimos_ativos[isbn] == matricula:\n","            livro[\"disponivel\"] = True\n","            del emprestimos_ativos[isbn]\n","            print(f\"Livro '{livro['titulo']}' devolvido pelo usuário '{usuario['matricula']}'.\")\n","        else:\n","            print(f\"Livro '{livro['titulo']}' não está emprestado para o usuário '{usuario['matricula']}'.\")\n","\n","#verificar situaçao do livro ( emprestado ou nao)\n","\n","def verificar_situacao_livro(isbn):\n","    print()\n","    livro = encontra_livro(isbn)\n","    if livro:\n","        if livro[\"disponivel\"]:\n","            print(f\"Livro '{livro['titulo']}' está disponível para empréstimo.\")\n","        else:\n","            print(f\"Livro '{livro['titulo']}' não está disponível para empréstimo.\")\n","\n","#metodo que faz o resumo atual do sistema ( lista os livros que estao emprestados e etc )\n","\n","def resumo_atual():\n","    print()\n","    print(\"resumo atual:\")\n","\n","    for livro in livros:\n","        status = \"disponivel\" if livro[\"disponivel\"] else f\"emprestado para {emprestimos_ativos.get(livro['isbn'], 'desconhecido')}\"\n","        print(f\"{livro['titulo']} (isbn {livro['isbn']}): {status}\")\n","\n","#metodo que Lista dos usuários com seus históricos de empréstimos:\n","\n","def listar_historico_emprestimo():\n","    print()\n","    print(\"Historico de emprestimos:\")\n","\n","    for usuario in usuarios:\n","        print(f\"Usuario: {usuario['matricula']}\")\n","        print(\"Livros emprestados:\")\n","        for livro in usuario[\"historico_emprestimos\"]:\n","            print(f\"- {livro['titulo']} (ISBN: {livro['isbn']})\")\n","        print()\n","\n","\n","print()\n","print(\"--- Inicio da Simulacao da Biblioteca ---\")\n","\n","emprestar_livro(\"A001\", \"12345\")  # aluno A001 pega livro 12345\n","emprestar_livro(\"P001\", \"67890\")  # professor P001 pega livro 67890\n","emprestar_livro(\"A001\", \"67890\")  # aluno A001 tenta pegar livro 67890 (ja emprestado)\n","devolver_livro(\"A001\", \"12345\")   # aluno A001 devolve livro 12345\n","emprestar_livro(\"F001\", \"12345\")  # funcionario F001 pega livro 12345\n","\n","print()\n","print(\"--- Estado Final da Simulacao ---\")\n","\n","print()\n","print(\"Lista dos livros com seus status (disponivel ou emprestado):\")\n","for livro in livros:\n","    status = \"Disponivel\" if livro[\"disponivel\"] else \"Emprestado\"\n","    print(f\"- {livro['titulo']} (ISBN: {livro['isbn']}): {status}\")\n","\n","print()\n","print(\"Lista dos usuarios com seus historicos de emprestimos:\")\n","for usuario in usuarios:\n","    isbns = [livro[\"isbn\"] for livro in usuario[\"historico_emprestimos\"]]\n","    print(f\"- {usuario['tipo']} {usuario['matricula']}: Emprestimos: {isbns}\")\n","\n","print()\n","print(\"Lista dos emprestimos ativos, mostrando o titulo do livro, o tipo do usuario e a matricula:\")\n","print(\"- Emprestimos Ativos:\")\n","for isbn, matricula in emprestimos_ativos.items():\n","    livro = encontra_livro(isbn)\n","    usuario = encontra_usuario(matricula)\n","    print(f\"- Livro: '{livro['titulo']}' (ISBN: {isbn}) emprestado para {usuario['tipo']} (Matricula: {matricula})\")\n","\n","print()\n","print(\"--- Simulacao Finalizada ---\")\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1754331061559,"user":{"displayName":"Leonardo Vasconcelos Corrêa UFN","userId":"14135014914036764241"},"user_tz":180},"id":"-e_ArNCiN8Db","outputId":"8830d320-ca66-4d55-8eb5-4a4fff2cbd57"},"outputs":[{"name":"stdout","output_type":"stream","text":["\n","--- Inicio da Simulacao da Biblioteca ---\n","Livro 'Python para Iniciantes' emprestado para aluno A001\n","Livro 'Modelagem e Simulacao' emprestado para professor P001\n","Livro 'Modelagem e Simulacao' nao esta disponivel no momento.\n","Livro 'Python para Iniciantes' devolvido por aluno A001\n","Livro 'Python para Iniciantes' emprestado para funcionario F001\n","\n","--- Estado Final da Simulacao ---\n","Livros:\n","- Python para Iniciantes (ISBN: 12345): Emprestado\n","- Modelagem e Simulacao (ISBN: 67890): Emprestado\n","\n","Usuarios e seus historicos de emprestimos:\n","- aluno A001: Emprestimos: ['12345']\n","- professor P001: Emprestimos: ['67890']\n","- funcionario F001: Emprestimos: ['12345']\n","\n","Emprestimos Ativos:\n","- Livro: 'Modelagem e Simulacao' (ISBN: 67890) emprestado para professor (Matricula: P001)\n","- Livro: 'Python para Iniciantes' (ISBN: 12345) emprestado para funcionario (Matricula: F001)\n","\n","--- Fim da Simulacao ---\n"]}],"source":["usuarios = [\n","    {'tipo': 'aluno', 'matricula': 'A001', 'historico': []},\n","    {'tipo': 'professor', 'matricula': 'P001', 'historico': []},\n","    {'tipo': 'funcionario', 'matricula': 'F001', 'historico': []}\n","]\n","\n","livros = [\n","    {'titulo': 'Python para Iniciantes', 'isbn': '12345', 'disponivel': True},\n","    {'titulo': 'Modelagem e Simulacao', 'isbn': '67890', 'disponivel': True}\n","]\n","\n","emprestimos_ativos = []\n","\n","def encontra_usuario(matricula):\n","    for u in usuarios:\n","        if u['matricula'] == matricula:\n","            return u\n","    return None\n","\n","def encontra_livro(isbn):\n","    for l in livros:\n","        if l['isbn'] == isbn:\n","            return l\n","    return None\n","\n","def emprestar_livro(matricula, isbn):\n","    usuario = encontra_usuario(matricula)\n","    livro = encontra_livro(isbn)\n","    if not usuario or not livro:\n","        print(f'Falha no emprestimo para {matricula}')\n","        return\n","    if livro['disponivel']:\n","        livro['disponivel'] = False\n","        usuario['historico'].append(isbn)\n","        emprestimos_ativos.append({'livro': livro, 'usuario': usuario})\n","        print(f\"Livro '{livro['titulo']}' emprestado para {usuario['tipo']} {usuario['matricula']}\")\n","    else:\n","        print(f\"Livro '{livro['titulo']}' nao esta disponivel no momento.\")\n","\n","def devolver_livro(matricula, isbn):\n","    for e in emprestimos_ativos:\n","        if e['livro']['isbn'] == isbn and e['usuario']['matricula'] == matricula:\n","            e['livro']['disponivel'] = True\n","            emprestimos_ativos.remove(e)\n","            print(f\"Livro '{e['livro']['titulo']}' devolvido por {e['usuario']['tipo']} {e['usuario']['matricula']}\")\n","            return\n","    print(f\"Devolucao invalida para {matricula}, livro {isbn}\")\n","\n","print()\n","print('--- Inicio da Simulacao da Biblioteca ---')\n","emprestar_livro('A001', '12345')\n","emprestar_livro('P001', '67890')\n","emprestar_livro('A001', '67890')\n","\n","devolver_livro('A001', '12345')\n","emprestar_livro('F001', '12345')\n","\n","print()\n","print('--- Estado Final da Simulacao ---')\n","print('Livros:')\n","for l in livros:\n","    status = 'Disponivel' if l['disponivel'] else 'Emprestado'\n","    print(f\"- {l['titulo']} (ISBN: {l['isbn']}): {status}\")\n","\n","print()\n","print('Usuarios e seus historicos de emprestimos:')\n","for u in usuarios:\n","    print(f\"- {u['tipo']} {u['matricula']}: Emprestimos: {u['historico']}\")\n","\n","print()\n","print('Emprestimos Ativos:')\n","for e in emprestimos_ativos:\n","    print(f\"- Livro: '{e['livro']['titulo']}' (ISBN: {e['livro']['isbn']}) emprestado para {e['usuario']['tipo']} (Matricula: {e['usuario']['matricula']})\")\n","\n","print()\n","print('--- Fim da Simulacao ---')\n"]}],"metadata":{"colab":{"authorship_tag":"ABX9TyMVpEJnd7O0C79Mgjvc8ViC","name":"","version":""},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}